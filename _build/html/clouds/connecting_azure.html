

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connecting Scalr to Microsoft Azure &mdash; Scalr 0.01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Connecting Scalr to OpenStack" href="connecting_openstack.html" />
    <link rel="prev" title="Connecting Scalr to Google Cloud Platform (GCP)" href="connecting_gcp.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/scalr_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Scalr Server Admin Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install_guide/index.html">Installation &amp; Upgrades</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions/index.html">Extensions</a></li>
</ul>
<p class="caption"><span class="caption-text">Scalr Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Overview of Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html#deployment-architecture">Deployment Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html#value-of-scalr">Value of Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/terminology.html">Concepts and Terminology</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../gs_admins/index.html">Getting Started for Admins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#role-of-account-admins">Role of Account Admins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#navigating-the-user-interface">Navigating the User Interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../gs_admins/index.html#scalr-scope-configuration">Scalr Scope Configuration</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../gs_admins/index.html#cloud-configuration-and-credentials">Cloud Configuration and Credentials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="connecting_aws.html">Connecting Scalr to AWS</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_gcp.html">Connecting Scalr to Google Cloud Platform (GCP)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Connecting Scalr to Microsoft Azure</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_openstack.html">Connecting Scalr to OpenStack</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_vmware.html">Connecting Scalr to VMWare vSphere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#roles-and-images">Roles and Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#scalr-account-architecture">Scalr Account Architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../gs_admins/index.html#account-scope-configuration">Account Scope Configuration</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../gs_admins/index.html#environments-and-cloud-credentials">Environments and Cloud Credentials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="connecting_aws.html">Connecting Scalr to AWS</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_gcp.html">Connecting Scalr to Google Cloud Platform (GCP)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Connecting Scalr to Microsoft Azure</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_openstack.html">Connecting Scalr to OpenStack</a></li>
<li class="toctree-l4"><a class="reference internal" href="connecting_vmware.html">Connecting Scalr to VMWare vSphere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#configuring-users-teams-and-acls">Configuring Users, Teams and ACLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#id1">Roles and Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gs_users/index.html">Getting Started for End Users</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Images and Templates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/index.html">Images and Roles in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/registering_images.html">Registering Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/creating_images_nonscalr.html">Creating Images and Roles from Non-Scalr Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/creating_roles.html">Building Images from scratch (With Chef)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/multi_cloud.html">Multi-cloud Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/orchestration.html">Role Orchestration</a></li>
</ul>
<p class="caption"><span class="caption-text">Infrastructure Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../farms/index.html">Farm Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/launch.html">Farm Launching and Managing Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/ssh.html">SSH Keys in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/execution.html">Script Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/storage.html">Configuring Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/auto_dicscovery.html">Service Auto Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/link_cloud_services.html">Using Cloud Services in Farms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/service_catalog.html">Service Catalog Offerings</a></li>
</ul>
<p class="caption"><span class="caption-text">Organizational Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../org/index.html">Implementing your Organization in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/accounts.html">Account Configuration Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/cost_centers_projects.html">Cost Centers and Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/team_users.html">Teams and Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/acls.html">Access Control Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Governance, Security and Compliance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/index.html">Security and Compliance Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html">Policy Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html#policy-definitions">Policy Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html#policy-reference">Policy Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html">Resource Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html#creating-quotas">Creating Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html#applying-quotas">Applying Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/orchestration.html">Scalr/Account Level Orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/integrations.html">External Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/integrations.html#webhooks-and-endpoints">Webhooks and Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/acls.html">Access Control Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Cost Control &amp; Visibility</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cost/index.html">Cost Control Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cost/analytics.html">Cost Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cost/management.html">Cost Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Parameterisation in Scalr</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gvs/index.html">Global Variables</a></li>
</ul>
<p class="caption"><span class="caption-text">Demand Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scaling/index.html">Scaling Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/manual.html">Manual Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/auto.html">Auto Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/custom_scaling.html">Custom Metrics and Scaling</a></li>
</ul>
<p class="caption"><span class="caption-text">Importing Cloud Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../discovery/index.html">Discovery Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../discovery/creating_images_nonscalr.html">Creating Images and Roles from Non-Scalr Servers</a></li>
</ul>
<p class="caption"><span class="caption-text">Alternative Interfaces</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Scalr API and CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csg.html">Cloud Service Gateway</a></li>
</ul>
<p class="caption"><span class="caption-text">Scalarizr agent</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html">Managing Scalarizr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html#scalarizr-administrative-interface">Scalarizr Administrative Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html#scalarizr-logs">Scalarizr Logs</a></li>
</ul>
<p class="caption"><span class="caption-text">Best Practices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../best_practices/index.html">Best Practices</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/index.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Scalr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../gs_admins/index.html">Getting Started for Admins</a> &raquo;</li>
        
      <li>Connecting Scalr to Microsoft Azure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/clouds/connecting_azure.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="connecting-scalr-to-microsoft-azure">
<h1>Connecting Scalr to Microsoft Azure<a class="headerlink" href="#connecting-scalr-to-microsoft-azure" title="Permalink to this headline">¶</a></h1>
<p><strong>IN PROGRESS</strong></p>
<p>Scalr needs access to your Cloud Platform(s) in order to provision and manage infrastructure on your behalf. You will therefore need to configure Scalr with your Azure credentials. There are 4 steps to this task.</p>
<ol class="arabic simple">
<li>Configure Azure Virtual Network’s</li>
<li>Configure Instance Connection Policy</li>
<li>Configure access to Azure Resource Manager API</li>
<li>Add Azure credentials to Scalr and link to environments.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last line-block">
<div class="line"><strong>Your credentials are safe with us</strong></div>
<div class="line">Credentials are stored securely and encrypted. Scalr will not use your Credentials for any purpose you have not agreed to. Our terms of service can be found on the Scalr Website Policies Page.</div>
<div class="line"><strong>Why Does Scalr Need Credentials?</strong></div>
<div class="line">Cloud Credentials are needed by Scalr to provision and manage cloud infrastructure on your behalf.</div>
</div>
</div>
<div class="section" id="configure-azure-for-scalr">
<h2>Configure Azure for Scalr<a class="headerlink" href="#configure-azure-for-scalr" title="Permalink to this headline">¶</a></h2>
<p>Before creating access keys and connecting Scalr to Azure there are some configuration considerations that may need to implemented to ensure Scalr can connect to your instances in Azure.</p>
<div class="section" id="configure-virtual-networks">
<h3>Configure Virtual Networks<a class="headerlink" href="#configure-virtual-networks" title="Permalink to this headline">¶</a></h3>
<p>You will need to create or configure an Azure Virtual Network to work with Scalr. If you need to create a Virtual Network for Scalr and the Scalr managed instances please refer to <a href="https://docs.microsoft.com/en-us/azure/virtual-network/" target="_blank">Virtual Network Documentation</a> <a class="reference internal" href="../_images/new_win.png"><img alt="NEWWIN" src="../_images/new_win.png" style="width: 13.25px; height: 12.0px;" /></a>.</p>
</div>
<div class="section" id="configure-instance-connection-policy">
<h3>Configure Instance Connection Policy<a class="headerlink" href="#configure-instance-connection-policy" title="Permalink to this headline">¶</a></h3>
<p>You will also need to perform some additional configuration work to ensure that Scalr can connect to your Azure instances. There are three options for this.</p>
<ol class="arabic simple">
<li><strong>Public</strong> - Scalr will ONLY connect to the Public IP of instances. Only use this option if ALL instances managed by Scalr will have a Public IP.</li>
<li><strong>Local</strong> - Scalr will ONLY connect to the local/private IP of instances. This option is only possible if one of the following scenarios applies.<ol class="arabic">
<li>All your managed instances are in the same VPC as the Scalr server.</li>
<li>You have routing or peering connections to all the other VPC’s where Scalr managed instances reside. See <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview" target="_blank">Virtual network peering</a> <a class="reference internal" href="../_images/new_win.png"><img alt="NEWWIN" src="../_images/new_win.png" style="width: 13.25px; height: 12.0px;" /></a> for more details.</li>
<li>You have VPN connection(s) to all the other VPC’s where Scalr managed instances reside.</li>
</ol>
</li>
<li><strong>Auto</strong> - (default) Scalr will connect to the Public IP of an instance if it has one, otherwise it will fall back to the local/private IP.</li>
</ol>
<p>If you choose to use the “public” or “local” option then you need to login to your Scalr server and update the configuration in <code class="docutils literal notranslate"><span class="pre">/etc/scalr-server/scalr-server.rb</span></code> by adding the following entry. (NOTE: this entry must be merged with any exiting entries in the <code class="docutils literal notranslate"><span class="pre">`app[:configuration]</span> <span class="pre">=</span> <span class="pre">`</span></code> structure)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>app<span class="o">[</span>:configuration<span class="o">]</span> <span class="o">=</span> <span class="o">{</span>
 <span class="s2">&quot;scalr&quot;</span> <span class="o">=</span>&gt; <span class="o">{</span>
   <span class="s2">&quot;azure&quot;</span> <span class="o">=</span>&gt; <span class="o">{</span>
     <span class="s2">&quot;instance_connection_policy&quot;</span> <span class="o">=</span>&gt; <span class="s2">&quot;local&quot;</span> or <span class="s2">&quot;public&quot;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>After adding this entry you must re-configure scalr by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">scalr-server-ctl</span> <span class="pre">reconfigure</span></code>.</p>
</div>
</div>
<div class="section" id="adding-azure-credentials-to-scalr">
<h2>Adding Azure Credentials to Scalr<a class="headerlink" href="#adding-azure-credentials-to-scalr" title="Permalink to this headline">¶</a></h2>
<p>First you need enable access to Azure and obtain the required access keys.</p>
<ol class="arabic simple">
<li>Login to <a class="reference external" href="https://portal.azure.com/">https://portal.azure.com/</a> (Portal URL can be different for Azure Gov Cloud and Azure Germany Cloud) using Microsoft Live account.</li>
<li>Click on <strong>Azure Active Directory</strong> in the left menu.</li>
<li>Make sure you are in your Default directory (or add a new one).</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-1.png"><img alt="../_images/Azure-sa-1.png" src="../_images/Azure-sa-1.png" style="width: 206.5px; height: 338.0px;" /></a>
<ol class="arabic simple" start="4">
<li>Click on <strong>App registrations</strong> in the left menu.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-2.png"><img alt="../_images/Azure-sa-2.png" src="../_images/Azure-sa-2.png" style="width: 254.5px; height: 264.5px;" /></a>
<ol class="arabic simple" start="5">
<li>Click on <strong>New application registration</strong>.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-3.png"><img alt="../_images/Azure-sa-3.png" src="../_images/Azure-sa-3.png" style="width: 466.0px; height: 194.0px;" /></a>
<ol class="arabic simple" start="6">
<li>Enter the name “Scalr”.</li>
<li>Enter the following details:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>Name: “Scalr”</li>
<li>SIGN-ON URL: <a class="reference external" href="http://your-scalr-domain.com/public/xAzureToken">http://your-scalr-domain.com/public/xAzureToken</a> (Make sure to replace your-scalr-domain.com with the value of <code class="docutils literal notranslate"><span class="pre">routing[:endpoint_host]</span></code> that you have in your scalr-server.rb config file. It should be the IP or Domain that you use to access the Scalr Web UI.)</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="8">
<li>Click “Create”</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-4.png"><img alt="../_images/Azure-sa-4.png" src="../_images/Azure-sa-4.png" style="width: 545.0px; height: 455.5px;" /></a>
<ol class="arabic simple" start="9">
<li>Click on the new application</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-5.png"><img alt="../_images/Azure-sa-5.png" src="../_images/Azure-sa-5.png" style="width: 633.0px; height: 204.5px;" /></a>
<ol class="arabic simple" start="10">
<li>Ensure the APP ID URI is configured correctly.</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>APP ID URI: <a class="reference external" href="http://domain.onmicrosoft.com/scalr">http://domain.onmicrosoft.com/scalr</a> (make sure that you replace domain.onmicrosoft.com with your actual Active Directory domain which can be found under “Domains” in the relevant directory - the same one from step 3).</li>
</ol>
</div></blockquote>
<a class="reference internal image-reference" href="../_images/Azure-sa-6.png"><img alt="../_images/Azure-sa-6.png" src="../_images/Azure-sa-6.png" style="width: 777.5px; height: 390.5px;" /></a>
<ol class="arabic simple" start="11">
<li>Under keys, create a new key and select how many years you want this key to last. Be sure to save your Secret Key.</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Warning! This key MUST NOT contain “+” or “/” characters as these will cause API errors.  If your key has these special characters present you MUST re-generate a new key without these symbols for use with Scalr.</p>
</div>
<a class="reference internal image-reference" href="../_images/Azure-sa-7.png"><img alt="../_images/Azure-sa-7.png" src="../_images/Azure-sa-7.png" style="width: 808.0px; height: 332.5px;" /></a>
<a class="reference internal image-reference" href="../_images/Azure-sa-8.png"><img alt="../_images/Azure-sa-8.png" src="../_images/Azure-sa-8.png" style="width: 423.0px; height: 121.5px;" /></a>
<ol class="arabic simple" start="12">
<li>Under the Required Permissions section, locate Windows Azure Active Directory.</li>
<li>Under Delegated Permissions select Sign in and read user profile as well as Access the Directory as the signed in user permission.  Under Application Permissions select Read Directory Data and Read and Write Directory Data.</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Make sure that all of the correct permissions as outlined above have been applied.  Missing permissions will lead to unexpected behavior.</p>
</div>
<a class="reference internal image-reference" href="../_images/Azure-sa-9.png"><img alt="../_images/Azure-sa-9.png" src="../_images/Azure-sa-9.png" style="width: 811.0px; height: 449.5px;" /></a>
<ol class="arabic simple" start="14">
<li>Click on Add permission.</li>
<li>Click on Windows Azure Service Management API and Select.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-10.png"><img alt="../_images/Azure-sa-10.png" src="../_images/Azure-sa-10.png" style="width: 805.0px; height: 454.0px;" /></a>
<ol class="arabic simple" start="16">
<li>Make sure that Access Azure Service Management permission is set on Delegated Permissions for Windows Azure Service Management API.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-11.png"><img alt="../_images/Azure-sa-11.png" src="../_images/Azure-sa-11.png" style="width: 737.5px; height: 435.0px;" /></a>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please note!  You MUST select “Grant Permissions” to make your permission changes active.  It may take up to 15 minutes for this to take effect and for Subscriptions to be selectable when creating Cloud Credentials in Scalr. This dialogue will look like the following screenshots</p>
</div>
<a class="reference internal image-reference" href="../_images/Azure-sa-12.png"><img alt="../_images/Azure-sa-12.png" src="../_images/Azure-sa-12.png" style="width: 411.5px; height: 138.0px;" /></a>
<a class="reference internal image-reference" href="../_images/Azure-sa-13.png"><img alt="../_images/Azure-sa-13.png" src="../_images/Azure-sa-13.png" style="width: 488.0px; height: 209.0px;" /></a>
<ol class="arabic simple" start="17">
<li>After clicking on Save, you will be able to locate the CLIENT-ID (Application ID) under the registered app, and will have your SECRET-KEY from step 11.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-14.png"><img alt="../_images/Azure-sa-14.png" src="../_images/Azure-sa-14.png" style="width: 289.5px; height: 127.0px;" /></a>
<ol class="arabic simple" start="18">
<li>As a final step, we must ensure that our application has Contributor permissions on your desired subscription IAM configuration.  Navigate to the Subscription&gt; IAM tab and ensure this is present. If not, manually add your app as a CONTRIBUTOR role.</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-15.png"><img alt="../_images/Azure-sa-15.png" src="../_images/Azure-sa-15.png" style="width: 888.5px; height: 405.0px;" /></a>
<p>You can now add Cloud Credentials at either the Scalr or Account Scope.
You can add new credentials directly from the Main Menu or via the Environment configuration screen at the Account Scope.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Credentials added at the Scalr Scope will be available to all accounts. Only use Scalr Scope credentials if all accounts are trusted to use the connected cloud account.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Scalr Scope</th>
<th class="head">Account Scope</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="../_images/Admin_cloud_creds.png"><img alt="SCE" src="../_images/Admin_cloud_creds.png" style="width: 181.29999999999998px; height: 195.29999999999998px;" /></a></td>
<td><a class="reference internal" href="../_images/Account_cloud_creds.png"><img alt="ACE" src="../_images/Account_cloud_creds.png" style="width: 212.0px; height: 171.20000000000002px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Environment screen</th>
</tr>
<tr class="row-even"><th class="head">Click on the link for the cloud</th>
<th class="head">Click Add Credentials</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="../_images/Environments_cloud_creds_1.png"><img alt="ECC1" src="../_images/Environments_cloud_creds_1.png" style="width: 663.5px; height: 180.5px;" /></a></td>
<td><a class="reference internal" href="../_images/Environments_cloud_creds_2.png"><img alt="ECC2" src="../_images/Environments_cloud_creds_2.png" style="width: 544.8000000000001px; height: 178.4px;" /></a></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="19">
<li>After selecting Add Credentials, you will be prompted to add your Cloud Credentials and properties:</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-creds.png"><img alt="../_images/Azure-creds.png" src="../_images/Azure-creds.png" style="width: 435.4px; height: 223.29999999999998px;" /></a>
<p>Add the tenant name to your credentials if you have it available, and then click <strong>continue</strong> at the bottom of the dialogue box.  You will be redirected to authenticate in the Azure Portal.  Complete authentication by following the on-screen instructions.</p>
<ol class="arabic simple" start="20">
<li>After authentication you will be once again redirected back to Scalr.  Then choose your Subscription, and hit Save.  An example fully configured Cloud Credential object for Azure will look similar to the following:</li>
</ol>
<a class="reference internal image-reference" href="../_images/Azure-sa-16.png"><img alt="../_images/Azure-sa-16.png" src="../_images/Azure-sa-16.png" style="width: 431.9px; height: 339.5px;" /></a>
<p>You can now proceed to adding these credentials to your environments.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="connecting_openstack.html" class="btn btn-neutral float-right" title="Connecting Scalr to OpenStack" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="connecting_gcp.html" class="btn btn-neutral" title="Connecting Scalr to Google Cloud Platform (GCP)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, scalr_team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.01',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #e8ebed;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #333;
      font-family: "Lato", "proxima-nova", "Helvetica Neue", Arial, sans-serif;
    }
  </style>


</body>
</html>